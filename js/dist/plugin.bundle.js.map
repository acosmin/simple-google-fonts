{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./css/src/plugin.scss","webpack:///./js/plugin.js","webpack:///./js/src/components/global.js","webpack:///./js/src/components/info.js","webpack:///./js/src/constants.js","webpack:///./js/src/index.js","webpack:///./js/src/styles.js","webpack:///./js/src/utils.js"],"names":["registerPlugin","wp","plugins","icon","render","plugin","components","Notice","ToggleControl","__","i18n","SGFGlobalOption","props","isPublished","info","meta","updateEl","sgf_is_global","value","Fragment","element","SGFInfoPanel","className","status","isDismissible","PLUGIN_INFO","sidebarId","sidebarIcon","pluginName","HEADINGS","FONT_WEIGHT","TEXT_TRANSFORM","HEADINGS_TABS","name","title","PanelBody","TabPanel","SelectControl","RangeControl","Component","editPost","PluginSidebar","PluginSidebarMoreMenuItem","data","withDispatch","withSelect","select","compose","lodash","uniq","SimpleGoogleFonts","arguments","changeFontsWeights","bind","changeTransform","changeLineHeight","changeLetterSpace","changeStyles","updateElement","createStyleNodes","panels","types","panel","type","prevProps","isPublishedPrev","map","font","i","label","f","v","filter","weight","includes","size","item","newMeta","getEditedPostAttribute","theStyles","getMeta","link","document","querySelector","simpleGFonts","fontID","newstyles","def","idef","timeout","default_url","weights_def","href","setTimeout","variants","newLink","oldFamily","decodeURIComponent","split","newFont","replace","find","variant","oldWeights","weights","heading","wt","italics","italic","push","sort","join","findIndex","oldmeta","updateSingleMeta","updateHeadingsMeta","changeFW","args","hargs","el","prop","sgf_ff_headings","fontsOptions","tab","tabName","hasOwnProperty","weightsOptions","transformOptions","sgf_ff_body","sgf_wt_body","sgf_lh_body","sgf_ls_body","editor","postMeta","oldPostMeta","getCurrentPostAttribute","isCurrentPostPublished","pageID","getCurrentPostId","dispatch","elements","newmeta","stringified","parsed","defaults","headings","hdskey","length","found","startsWith","converted","defaultWt","Number","sgf_date_global","Date","now","toString","sgf_els_headings","newHeadings","fontsObj","ffh","ffb","hFont","bFont","styleTag","hMeta","textContent","headingMeta","hParsed","tt","lh","ls","isEmpty","capitalizeWords","words","l","toUpperCase","newStyleLinkURL","items","ff","newItem","encodeURIComponent","old","current","reviewedData","Object","keys","reduce","prev","key","parseHeadingValues","stringifyHeadingValues","getHeadingValue","hdef","similar","media","rel","tag","id","body_id","headings_id","style_id","elNode","createElement","elKeys","elKey","setAttribute","head","appendChild","addGlobalHeadings","gvals","global_vals","gheadings","addDefaultsToMeta","newDefaults","newHeadingsDefs","headingType","panelType","option","hObj","hEl","hElparse","hObjIndex","hOel","nHdef","defHeading","exists"],"mappings":"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","file":"plugin.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./js/plugin.js\");\n","// removed by extract-text-webpack-plugin","/////////////////////////////////////////////////\n////////////// Simple Google Fonts //////////////\n/////////////////////////////////////////////////\n\nimport '../css/src/plugin.scss';\nimport { default as plugin } from './src';\n\nconst { registerPlugin } = wp.plugins;\n\n/** \n * Register the plugin \n */\nregisterPlugin( 'simple-google-fonts', {\n\ticon   : 'hidden',\n\trender : plugin\n} );","const { Notice, ToggleControl } = wp.components;\n\nconst { __ } = wp.i18n;\n\n/**\n * Displays the global option and adds a notice if the post isn't published\n *\n * @since  1.0.0\n * @param  {Object} props Inherited props from `SimpleGoogleFonts`\n * @return {Void}\n */\nexport const SGFGlobalOption = props => {\n    const { isPublished } = props.info;\n    const { meta, updateEl } = props;\n    \n    if( ! isPublished ) {\n        return (\n            <Notice\n                className=\"sgf-globally-warning\" \n                status=\"warning\"\n                isDismissible={ false }\n            >\n                { __( 'You can not use this option if the post is not published. If the global option was enabled for this post and you switched to draft mode, you will have to enable it again after you publish.' ) }\n            </Notice>\n        );\n    }  \n    \n    return (\n        <ToggleControl\n            label={ __( 'Make styles global' ) }\n            checked={ meta.sgf_is_global || false  }\n            help={ __( 'Make the styles used for this post global? If the answer is yes, then the styles will apply globally as defaults for new posts and old posts that do not have any Google Fonts styles saved.' ) }\n            onChange={ value => updateEl( 'global', 'is', value ) }\n        />\n    );\n} \n","const { Notice } = wp.components;\n\nconst { Fragment } = wp.element;\n\nconst { __ } = wp.i18n;\n\n/**\n * Displays the information from the `Information` panel\n *\n * @since  1.0.0\n * @return {Void}\n */\nexport const SGFInfoPanel = () => {\n    const props = {\n        className     : 'sgf-information-notice',\n        status        : 'success',\n        isDismissible : false\n    };\n\n    return (\n        <Fragment>\n\n            <Notice { ...props } >\n                { __( 'It works only with posts and pages for now.' ) }\n            </Notice>\n\n            <Notice { ...props } >\n                { __( 'It is safe to say that if you do not have an Internet connection, Google fonts will not display (unless you have them installed on your system).' ) }\n            </Notice>\n\n            <Notice { ...props } >\n                { __( 'The plugin will dequeue other Google fonts registered by themes/plugins. WordPress Core registered styles are not dequeued. If you do not select a font, it will fallback to default system (OS) fonts.' ) }\n            </Notice>\n\n            <Notice { ...props } >\n                { __( 'If you want to use the global option, make sure you publish the post. If for some reason you switch the post to draft mode, the global option will reset and you will need to enable it again.' ) }\n            </Notice>\n\n        </Fragment>\n    );\n}","const { __ } = wp.i18n;\n\nexport const PLUGIN_INFO = {\n    sidebarId   : 'sgf-sidebar',\n    sidebarIcon : 'editor-textcolor',\n    pluginName  : 'Simple Google Fonts',\n};\n\nexport const HEADINGS = [\n    'h1', 'h2', 'h3', 'h4', 'h5', 'h6',\n];\n\nexport const FONT_WEIGHT = [\n    '100', '100i', \n    '200', '200i', \n    '300', '300i',\n    '400', '400i',\n    '500', '500i',\n    '600', '600i',\n    '700', '700i',\n    '800', '800i',\n    '900', '900i'\n];\n\nexport const TEXT_TRANSFORM = [\n    'none', 'capitalize', 'uppercase', 'lowercase'\n];\n\nexport const HEADINGS_TABS = [\n    {\n        name: 'h1',\n        title: 'h1',\n        className: 'tab-one',\n    },\n    {\n        name: 'h2',\n        title: 'h2',\n        className: 'tab-two',\n    },\n    {\n        name: 'h3',\n        title: 'h3',\n        className: 'tab-three',\n    },\n    {\n        name: 'h4',\n        title: 'h4',\n        className: 'tab-four',\n    },\n    {\n        name: 'h5',\n        title: 'h5',\n        className: 'tab-five',\n    },\n    {\n        name: 'h6',\n        title: 'h6',\n        className: 'tab-six',\n    },\n]","import fontsObj, * as fonts from './json/google-fonts.json';\n\nimport { \n    PLUGIN_INFO, \n    HEADINGS,\n    HEADINGS_TABS, \n    TEXT_TRANSFORM \n} from './constants';\n\nimport { \n    capitalizeWords, \n    newStyleLinkURL, \n    parseHeadingValues, \n    stringifyHeadingValues,\n    getHeadingValue,\n    createStyleNodes,\n    addGlobalHeadings,\n    addDefaultsToMeta\n} from './utils';\n\nimport { SGFGlobalOption } from './components/global';\n\nimport { SGFInfoPanel } from './components/info';\n\nimport theStyles from './styles';\n\nconst { __ } = wp.i18n;\n\nconst { \n    PanelBody, \n    TabPanel, \n    SelectControl, \n    RangeControl \n} = wp.components;\n\nconst { Component, Fragment } = wp.element;\n\nconst { PluginSidebar, PluginSidebarMoreMenuItem } = wp.editPost;\n\nconst { withDispatch, withSelect, select } = wp.data;\n\nconst { compose } = wp.compose;\n\nconst { uniq } = lodash;\n\n/**\n * Simple Google Fonts\n * \n * @since   1.0.0\n * @class   SimpleGoogleFonts\n * @extends {Component}\n */\nclass SimpleGoogleFonts extends Component {\n\n    /**\n     * Creates an instance of SimpleGoogleFonts.\n     * \n     * @memberof SimpleGoogleFonts\n     */\n    constructor() {\n        super( ...arguments );\n\n        this.changeFontsWeights = this.changeFontsWeights.bind( this );\n        this.changeTransform    = this.changeTransform.bind( this );\n        this.changeLineHeight   = this.changeLineHeight.bind( this );\n        this.changeLetterSpace  = this.changeLetterSpace.bind( this );\n        this.changeStyles       = this.changeStyles.bind( this );\n        this.updateElement      = this.updateElement.bind( this );\n    }\n\n    /**\n     * Do this once when the component did mount\n     *\n     * @todo     Maybe add some filters in future versions.\n     * @memberof Component\n     */\n    componentDidMount() {\n        // Create the link and style nodes\n        createStyleNodes();\n\n        // Change fonts and weights in the Google Fonts URL\n        const panels = [ 'body', 'headings' ];\n        const types  = [ 'fonts', 'weights' ];\n\n        for( const panel of panels ) {\n            for( const type of types ) {\n                this.changeFontsWeights( panel, type );\n            }\n        }\n\n        // Make sure we have the correct/updated styles\n        this.changeStyles();\n    }\n\n    /**\n     * Do some checks\n     *\n     * @todo     Maybe take another look at this.\n     * @param    {Object} prevProps\n     * @memberof SimpleGoogleFonts\n     */\n    componentDidUpdate( prevProps ) {\n        const { meta } = this.props;\n        const { isPublished } = this.props.info;\n        const { isPublished:isPublishedPrev } = prevProps.info;\n\n        if( isPublished !== isPublishedPrev ) {\n            if( isPublished === false && meta.sgf_is_global === true ) {\n                this.updateElement( 'global', 'is', false );\n            }\n        }\n    }\n\n    /**\n     * All the font families as options to be used in a <select> element \n     * \n     * @since   1.0.0\n     * @returns {Array} The label and index as its value\n     */\n    fontsOptions() {\n        return fontsObj.map( ( font, i ) => ( { label: font.f, value: i } ) );\n    }\n\n    /**\n     * All the font weights as options to be used in a <select> element \n     *\n     * @since   1.0.0\n     * @param   {Integer} font Font intex\n     * @returns {Array}        The label and weight\n     */\n    weightsOptions( font ) {\n        return fontsObj[ font ].v\n        .filter( weight => ! weight.includes( '0i' ) )\n        .map( weight => {\n            return { label: weight, value: weight }\n        } );\n    }\n\n    /**\n     * All the text transform options to be used in a <select> element \n     * \n     * @since   1.0.0\n     * @returns {Array} The label and transform\n     */\n    transformOptions() {\n        return TEXT_TRANSFORM.map( size => ( { label: capitalizeWords( size ), value: size } ) );\n    }\n\n    /**\n     * Get meta value\n     *\n     * @since   1.0.0\n     * @param   {String} item  Select a specific key from our post meta\n     * @param   {String} panel The panel in which this option is located\n     * @returns {Object}       Selected meta\n     */\n    getMeta( item, panel ) {\n        const newMeta = select('core/editor').getEditedPostAttribute( 'meta' );\n        \n        let meta = {\n            ...newMeta\n        }\n        \n        meta = addDefaultsToMeta( meta );\n        meta = addGlobalHeadings( meta );\n\n        if( item && panel ) {\n            return meta[ `sgf_${item}_${panel}` ];\n        }\n        \n        return meta;\n    }\n\n    /**\n     * Changes the styles for preview, check `../js/src/styles/`\n     *\n     * @since  1.0.0\n     * @return {Void}\n     */\n    changeStyles() {\n        theStyles( this.getMeta(), fontsObj );\n    }\n\n    /**\n     * Changes the font families and font weights based on the selected values\n     *\n     * @since   1.0.0\n     * @todo    Simplify the weights part, create a function for both.\n     * @param   {String}         panel Either `headings` or `body`\n     * @param   {String}         type  Either change `fonts` or `weights`\n     * @returns {Object|Boolean}              An object containing the new/current link and decoded family argument \n     *                                        or false if no font is selected.\n     */\n    changeFontsWeights( panel, type ) {\n        const link      = document.querySelector( `#${simpleGFonts[ `${panel}_id` ]}` );\n        const meta      = this.getMeta;\n        const fontID    = meta( 'ff', panel );\n        const newstyles = this.changeStyles;\n        const def       = '400';\n        const idef      = `${def}i`;\n\n        const { timeout, default_url, weights_def } = simpleGFonts;\n        \n        if( fontID === 0 ) {\n            link.href = default_url;\n            setTimeout( newstyles, timeout );\n\n            return false;\n        }\n\n        const variants = fontsObj[ fontID ].v;\n\n        let newLink;\n\n        const oldFamily = decodeURIComponent( link.href.split( '?' )[ 1 ] )\n        .split( '&' )[ 0 ]\n        .split( '=' )[ 1 ];\n\n        switch( type ) {\n            case 'fonts':\n                let newFont = fontsObj[ fontID ].f.replace( ' ', '+' ) + `:${def}`;\n\n                if( variants.find( variant => variant.includes( idef ) ) ) {\n                    newFont = `${newFont},${idef}`;\n                }\n\n                newLink = newStyleLinkURL( [ oldFamily, newFont ], link );\n                break;\n\n            case 'weights':\n                const oldWeights = oldFamily.split( ':' )[ 1 ];\n                let weights;\n\n                switch( panel ) {\n                    case 'headings':\n                        weights = meta( 'els', panel )\n                        .map( heading => parseHeadingValues( heading ) )\n                        .map( heading => heading.wt );\n\n                        weights = uniq( weights );\n\n                        let italics = [];\n\n                        for( const weight of weights ) {\n                            const italic = variants.find( variant => variant.includes( `${weight}i` ) );\n\n                            if( italic ) {\n                                italics.push( italic );\n                            }\n                        }\n\n                        if( weights_def ) {\n                            if( weights.find( weight => weight !== def ) ) {\n                                weights.push( def );\n                            }\n    \n                            if( weights.find( weight => weight !== idef ) ) {\n                                if( variants.find( variant => variant.includes( idef ) ) ) {\n                                    weights.push( idef );\n                                }\n                            }\n                        }\n\n                        weights = [ ...weights, ...italics ].sort().join( ',' );\n\n                        newLink = newStyleLinkURL( [ oldWeights, weights ], link, false );\n                        break;\n        \n                    case 'body':\n                        let weight = meta( 'wt', panel );\n                        weights = [];\n\n                        weights.push( weight );\n\n                        const italic = variants.findIndex( variant => \n                            variant.includes( `${weight}i` ) \n                        );\n\n                        if( italic !== -1 ) {\n                            weights.push( `${variants[ italic ]}` );\n                        }\n\n                        if( weights_def ) {\n                            if( weight !== def ) {\n                                weights.push( def );\n                            }\n\n                            if( variants.findIndex( variant => variant.includes( idef ) ) !== -1 ) {\n                                weights.push( idef );\n                            }\n                        }\n\n                        newLink = newStyleLinkURL( \n                            [ oldWeights, weights.sort().join( ',' ) ], \n                            link, false \n                        );\n                        break;\n        \n                    default:\n                        break;\n                }\n                break;\n\n            default:\n                break;\n        }\n\n        link.href = link.href.replace( link.href, newLink );\n\n        setTimeout( newstyles, timeout );\n\n        return { newLink, link, oldFamily };\n    }\n\n    /**\n     * Wrapper for changeStyles(), in case we need to add something later\n     *\n     * @since  1.0.0\n     * @return {Void}\n     */\n    changeTransform() {\n        this.changeStyles();\n    }\n\n    /**\n     * Wrapper for changeStyles(), in case we need to add something later\n     *\n     * @since  1.0.0\n     * @return {Void}\n     */\n    changeLineHeight() {\n        this.changeStyles();\n    }\n\n    /**\n     * Wrapper for changeStyles(), in case we need to add something later\n     *\n     * @since  1.0.0\n     * @return {Void}\n     */\n    changeLetterSpace() {\n        this.changeStyles();\n    }\n\n    /**\n     * Updates meta value on event\n     *\n     * @since  1.0.0\n     * @param  {String}  panel           The panel where this is used\n     * @param  {String}  type            Propriety type\n     * @param  {Mixed}   value           Depending on the component, it can be a string a boolean\n     * @param  {Boolean} [heading=false] Update headings meta?\n     * @return {Void}\n     */\n    updateElement( panel, type, value, heading = false ) {\n        const { oldmeta, updateSingleMeta, updateHeadingsMeta } = this.props;\n\n        const meta     = this.getMeta();\n        const changeFW = this.changeFontsWeights;\n        const args     = { panel, type, value };\n\n        if( ! heading ) {\n            updateSingleMeta( args, meta, oldmeta );\n        } else {\n            const hargs = { el: panel, prop: type, value }\n\n            updateHeadingsMeta( hargs, meta, oldmeta );\n        }\n\n        if( [ 'ff', 'wt' ].find( prop => prop === type ) ) {\n            if( 'wt' === type ) {\n                const wt = 'weights';\n                if( HEADINGS.find( heading => heading === panel ) ) {\n                    changeFW( 'headings', wt );\n                } else {\n                    changeFW( panel, wt );\n                }\n            }\n\n            if( 'ff' === type ) {\n                changeFW( panel, 'fonts' );\n            }\n        }\n\n        switch( type ) {\n            case 'lh':\n                this.changeLineHeight();\n                break;\n            case 'ls':\n                this.changeLetterSpace();\n                break;\n            case 'tt':\n                this.changeTransform();\n                break;\n            default:\n                break;\n        }\n    }\n\n    /**\n     * Render the damn thing\n     * \n     * @todo     Use <Autocomplete/> for selecting fonts\n     * @memberof Component|SimpleGoogleFonts\n     */\n    render() {\n        const { sidebarId, pluginName, sidebarIcon } = PLUGIN_INFO;\n        const { meta, info } = this.props;\n        const updateEl = this.updateElement;\n\n        return (\n            <Fragment>\n\n                <PluginSidebar\n                    name={ sidebarId }\n                    title={ pluginName }\n                    icon={ sidebarIcon }\n                    isPinnable={ true }\n                >\n\n                    { /* /////////// Headings panel /////////// */}\n                    <PanelBody title={ __( 'Headings' ) } initialOpen={ false }>\n                        <SelectControl \n                            label={ __( 'Headings font family' ) }\n                            value={ meta.sgf_ff_headings }\n                            options={ this.fontsOptions() }\n                            onChange={ value => updateEl( 'headings', 'ff', value ) }\n                        />\n\n                        { /* ////// Headings tabs ////// */ }\n                        <TabPanel className=\"sgf-headings-tabs\"\n                            activeClass=\"active-tab\"\n                            tabs={ HEADINGS_TABS }>\n                            {\n                                ( tab ) => { \n                                    const tabName = tab.hasOwnProperty( 'name' ) ? tab.name : tab;\n\n                                    return (\n                                    <Fragment>\n                                        { /* /// Headings: Font weight /// */ }\n                                        <SelectControl \n                                            label={ __( 'Font weight:' ) }\n                                            value={ getHeadingValue( tabName, 'wt', meta ) }\n                                            options={ this.weightsOptions( meta.sgf_ff_headings ) }\n                                            onChange={ value => updateEl( tabName, 'wt', value, true ) }\n                                        />\n                                        \n                                        { /* /// Headings: Text transform /// */ }\n                                        <SelectControl \n                                            label={ __( 'Text transform:' ) }\n                                            value={ getHeadingValue( tabName, 'tt', meta ) }\n                                            options={ this.transformOptions() }\n                                            onChange={ value => updateEl( tabName, 'tt', value, true ) }\n                                        />\n\n                                        { /* /// Headings: Line height /// */ }\n                                        <RangeControl \n                                            label={ __( 'Line height:' ) }\n                                            value={ getHeadingValue( tabName, 'lh', meta ) }\n                                            min={ 1 }\n                                            max={ 3 }\n                                            step={ 0.05 }\n                                            onChange={ value => updateEl( tabName, 'lh', value, true ) }\n                                        />\n\n                                        { /* /// Headings: Letter spacing /// */ }\n                                        <RangeControl \n                                            label={ __( 'Letter spacing:' ) }\n                                            value={ getHeadingValue( tabName, 'ls', meta ) }\n                                            min={ 0 }\n                                            max={ 3 }\n                                            step={ 0.01 }\n                                            onChange={ value => updateEl( tabName, 'ls', value, true ) }\n                                        />\n                                    </Fragment>\n                                ) }\n                            }\n                        </TabPanel>\n\n                    </PanelBody>\n  \n                    { /* /////////// Body Panel /////////// */}\n                    <PanelBody title={ __( 'Body' ) } initialOpen={ false }>\n                        \n                        { /* /// Body: Font family /// */ }\n                        <SelectControl \n                            label={ __( 'Body font family' ) }\n                            value={ meta.sgf_ff_body }\n                            options={ this.fontsOptions() }\n                            onChange={ value => updateEl( 'body', 'ff', value ) }\n                        />\n                        \n                        { /* /// Body: Font weight /// */ }\n                        <SelectControl \n                            label={ __( 'Font weight:' ) }\n                            value={ meta.sgf_wt_body }\n                            options={ this.weightsOptions( meta.sgf_ff_body ) }\n                            onChange={ value => updateEl( 'body', 'wt', value ) }\n                        />\n\n                        { /* /// Body: Line height /// */ }\n                        <RangeControl \n                            label={ __( 'Line height:' ) }\n                            value={ meta.sgf_lh_body }\n                            min={ 1 }\n                            max={ 3 }\n                            step={ 0.05 }\n                            onChange={ value => updateEl( 'body', 'lh', value ) }\n                        />\n\n                        { /* /// Body: Letter spacing /// */ }\n                        <RangeControl \n                            label={ __( 'Letter spacing:' ) }\n                            value={ meta.sgf_ls_body }\n                            min={ 0 }\n                            max={ 3 }\n                            step={ 0.01 }\n                            onChange={ value => updateEl( 'body', 'ls', value ) }\n                        />\n                        \n                    </PanelBody>\n\n                    { /* /////////// Global Options Panel /////////// */}\n                    <PanelBody title={ __( 'Global Options' ) } initialOpen={ false }>\n                        \n                        <SGFGlobalOption { ...this.props } updateEl={ this.updateElement } />\n\n                    </PanelBody>\n\n                    { /* /////////// Information Panel /////////// */}\n                    <PanelBody title={ __( 'Information' ) } initialOpen={ false }>\n                        \n                        <SGFInfoPanel />\n\n                    </PanelBody>\n\n\t            </PluginSidebar>\n\n                <PluginSidebarMoreMenuItem\n                    target={ PLUGIN_INFO.sidebarId }\n                    icon={ PLUGIN_INFO.sidebarIcon }\n                >\n                    { PLUGIN_INFO.pluginName }\n                </PluginSidebarMoreMenuItem>\n\n            </Fragment>\n        );\n    }\n}\n\nexport default compose( [\n\n    withSelect( select => {\n        const editor      = select( 'core/editor' );\n        const postMeta    = addDefaultsToMeta( editor.getEditedPostAttribute( 'meta' ) );\n        const oldPostMeta = editor.getCurrentPostAttribute( 'meta' );\n        const isPublished = editor.isCurrentPostPublished();\n        const pageID      = editor.getCurrentPostId();\n        \n        let info = {\n            meta    : { ...oldPostMeta, ...postMeta },\n            oldmeta : oldPostMeta,\n            info    : { pageID, isPublished }\n        };\n\n        info.meta = addGlobalHeadings( info.meta );\n\n        return info;\n    } ),\n    \n    withDispatch( dispatch => ( {\n\n        /**\n         * Updates meta for headings, `single` is set to `false` in `register_meta()` and this \n         * function will make sure it updates the correct string based on `el`\n         *\n         * @since  1.0.0\n         * @todo   Maybe use state for headings defaults \n         * @param  {Object} elements An object with some info `{ el, prop, value }`\n         * @param  {Object} newmeta  Updated/new meta\n         * @param  {Object} oldmeta  Previous meta\n         * @return {Void}\n         */\n        updateHeadingsMeta( elements, newmeta ) {\n            const { el, prop, value } = elements;\n\n            const stringified = stringifyHeadingValues;\n            const parsed      = parseHeadingValues;\n\n            const defaults = simpleGFonts.headings[ el ];\n            const hdskey   = 'sgf_els_headings';\n            const headings = newmeta[ hdskey ];\n\n            let meta = {\n                ...newmeta\n            };\n\n            if( headings.length ) {\n                const found = headings.findIndex( item => item.startsWith( el, 3 ) );\n                \n                meta[ hdskey ] = [ ...headings ];\n\n                if( found === -1 ) {\n                    defaults[ prop ] = value;\n\n                    meta[ hdskey ].push( \n                        stringified( defaults )\n                    );\n                } else {\n                    let converted = parsed( headings[ found ] );\n                    \n                    converted[ prop ] = value;\n\n                    meta[ hdskey ][ found ] = stringified( converted );\n                }\n            } else {\n                meta[ hdskey ] = [];\n\n                defaults[ prop ] = value;\n\n                meta[ hdskey ].push( \n                    stringified( defaults ) \n                );\n            }\n\n            dispatch( 'core/editor' ).editPost( { meta } );\n        },\n\n        /**\n         * Updates meta for single components, `single` is set to `true` in `register_meta()` \n         *\n         * @since  1.0.0\n         * @param  {Object} elements An object with some info `{ panel, type, value }`\n         * @param  {Object} newmeta  Updated/new meta\n         * @param  {Object} oldmeta  Previous meta\n         * @return {Void}\n         */\n        updateSingleMeta( elements, newmeta ) {\n            let { panel, type, value } = elements;\n            const defaultWt = '400';\n\n            if( type === 'ff' ){\n                value = Number( value ); \n            }\n\n            let meta = {\n                ...newmeta,\n                [ `sgf_${type}_${panel}` ]: value\n            };\n\n            if( panel === 'global' && type === 'is' ) {\n                meta.sgf_date_global = meta.sgf_is_global ? Date.now().toString() : '';\n            }\n\n            if( panel === 'body' && type === 'ff' ) {\n                meta.sgf_wt_body = defaultWt\n            }\n\n            if( panel === 'headings' && type === 'ff' ) {\n                const { sgf_els_headings:headings } = meta;\n\n                if( headings.length ) {\n                    let newHeadings = [];\n\n                    for( const heading of headings ) {\n                        const converted = parseHeadingValues( heading );\n\n                        newHeadings.push( stringifyHeadingValues( converted, 'wt', defaultWt ) );\n                    }\n\n                    meta.sgf_els_headings = newHeadings;\n                }\n            }\n            \n            dispatch( 'core/editor' ).editPost( { meta } );\n        }\n\n    } ) )\n] )( SimpleGoogleFonts ); ","import { HEADINGS } from './constants';\nimport { parseHeadingValues as parsed } from './utils';\n\n/**\n * Creates the inline CSS styles based on the meta information it receives\n *\n * @since  1.0.0\n * @param  {Object} meta     Current post meta\n * @param  {Object} fontsObj Google Fonts object from JSON \n * @return {Void}\n */\nexport default function theStyles( meta, fontsObj ) {\n    const { sgf_ff_headings:ffh, sgf_ff_body:ffb } = meta;\n    \n    const hFont    = fontsObj[ ffh ].f;\n    const bFont    = fontsObj[ ffb ].f;\n    const styleTag = document.querySelector( `#${simpleGFonts[ 'style_id' ]}` );\n    const hMeta    = meta.sgf_els_headings;\n\n    styleTag.textContent = '';\n\n    if( ffb !== 0 || ffh !== 0 ) {\n        styleTag.textContent += `\n                body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"],\n                body.gutenberg-editor-page .editor-block-list__block div[class*=\"block-list__block\"] {\n                    font-weight: 400 !important;\n                    font-style: normal;\n                }\n                body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] h1,\n                body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] h2,\n                body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] h3,\n                body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] h4,\n                body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] h5,\n                body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] h6,\n                body.gutenberg-editor-page .editor-post-title__block .editor-post-title__input {\n                    font-weight: 400 !important;\n                    font-style: normal;\n                }`;\n    }\n\n    if( ffb !== 0 ) {\n        styleTag.textContent += `\n            body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"],\n            body.gutenberg-editor-page .editor-block-list__block div[class*=\"block-list__block\"],\n            body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] *,\n            body.gutenberg-editor-page .editor-block-list__block div[class*=\"block-list__block\"] *,\n            body.gutenberg-editor-page .editor-post-title__block .editor-post-title__input,\n            body.gutenberg-editor-page .editor-default-block-appender__content {\n                font-family: '${ bFont }', sans-serif !important;\n            }`;\n    }\n    \n    if( ffh !== 0 ) {\n        styleTag.textContent += `\n            body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] h1,\n            body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] h2,\n            body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] h3,\n            body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] h4,\n            body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] h5,\n            body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] h6,\n            body.gutenberg-editor-page .editor-post-title__block .editor-post-title__input,\n            body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] h1 *,\n            body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] h2 *,\n            body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] h3 *,\n            body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] h4 *,\n            body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] h5 *,\n            body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] h6 *,\n            body.gutenberg-editor-page .editor-post-title__block .editor-post-title__input * {\n                font-family: '${ hFont }', sans-serif !important;\n            }`;\n    }\n\n    if( meta.sgf_wt_body !== '400' ) { // recheck default\n        styleTag.textContent += `\n            body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"],\n            body.gutenberg-editor-page .editor-block-list__block div[class*=\"block-list__block\"],\n            body.gutenberg-editor-page .editor-default-block-appender__content {\n                font-weight: ${ meta.sgf_wt_body } !important;\n            }\n        `;\n    }\n\n    if( meta.sgf_lh_body !== 1.8 ) {\n        styleTag.textContent += `\n            body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"],\n            body.gutenberg-editor-page .editor-block-list__block div[class*=\"block-list__block\"],\n            body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] p,\n            body.gutenberg-editor-page .editor-block-list__block div[class*=\"block-list__block\"] p {\n                line-height: ${ meta.sgf_lh_body } !important;\n            }\n        `;\n    }\n\n    for( const heading of HEADINGS ) {\n        const headingMeta = hMeta.find( item => item.startsWith( heading, 3 ) );\n        const hParsed     = headingMeta ? parsed( headingMeta ) : false;\n\n        if( hParsed && hParsed.wt !== '400' ) { // recheck default\n            if( heading === 'h1' ) {\n                styleTag.textContent += `\n                    body.gutenberg-editor-page .editor-post-title__block .editor-post-title__input {\n                        font-weight: ${ hParsed.wt } !important;\n                    }\n                `;\n            }\n            styleTag.textContent += `\n                body.gutenberg-editor-page .editor-block-list__block div[class*=\"block-list__block\"] ${ heading },\n                body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] ${ heading } {\n                    font-weight: ${ hParsed.wt } !important;\n                    \n                }\n            `;\n        }\n\n        if( hParsed && hParsed.tt !== 'none' ) {\n            if( heading === 'h1' ) {\n                styleTag.textContent += `\n                    body.gutenberg-editor-page .editor-post-title__block .editor-post-title__input {\n                        text-transform: ${ hParsed.tt } !important;\n                    }\n                `;\n            }\n            styleTag.textContent += `\n                body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] ${ heading } {\n                    text-transform: ${ hParsed.tt } !important;\n                }\n            `;\n        }\n\n        if( hParsed && hParsed.lh !== 1.4 ) {\n            if( heading === 'h1' ) {\n                styleTag.textContent += `\n                    body.gutenberg-editor-page .editor-post-title__block .editor-post-title__input {\n                        line-height: ${ hParsed.lh } !important;\n                    }\n                `;\n            }\n            styleTag.textContent += `\n                body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] ${ heading } {\n                    line-height: ${ hParsed.lh } !important;\n                }\n            `;\n        }\n\n        if( hParsed && hParsed.ls !== 0 ) {\n            if( heading === 'h1' ) {\n                styleTag.textContent += `\n                    body.gutenberg-editor-page .editor-post-title__block .editor-post-title__input {\n                        letter-spacing: ${ hParsed.ls }em !important;\n                    }\n                `;\n            }\n            styleTag.textContent += `\n                body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] ${ heading } {\n                    letter-spacing: ${ hParsed.ls }em !important;\n                }\n            `;\n        }\n\n        if( meta.sgf_ls_body !== 0 ) {\n            styleTag.textContent += `\n                body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"],\n                body.gutenberg-editor-page .editor-block-list__block div[class*=\"block-list__block\"],\n                body.gutenberg-editor-page .editor-block-list__block div[class*=\"wp-block-\"] p,\n                body.gutenberg-editor-page .editor-block-list__block div[class*=\"block-list__block\"] p {\n                    letter-spacing: ${ meta.sgf_ls_body }em !important;\n                }\n            `;\n        }\n    }\n}","import { \n    HEADINGS\n} from './constants';\n\nconst { isEmpty } = lodash;\n\n/**\n * Capitalizes the words in a string.\n *\n * @since   1.0.0\n * @param   {String} words\n * @returns {String}\n */\nexport const capitalizeWords = ( words ) => {\n    return words.replace( /\\b\\w/g, l => l.toUpperCase() );\n}\n\n/**\n * Makes sure the new <link/> url is encoded correctly\n *\n * @since   1.0.0\n * @param   {DOMNode} link      <link/> element\n * @param   {Array}   items     Old and current decoded elements\n * @param   {boolean} [ff=true] Should this be used for fonts or weights\n * @returns {String}            New <link/> URL\n */\nexport const newStyleLinkURL = ( items, link, ff = true ) => {\n    const [ old, current ] = items.map( item => {\n        let newItem = encodeURIComponent( item );\n        return ff ? newItem.replace( '%2B', '+' ) : newItem;\n    } );\n\n    return link.href.replace( old, current );\n}\n/**\n * Loop through the old meta and check if it has changed\n *\n * @since   1.0.0\n * @param   {Object} old     Old data\n * @param   {Object} current Current data\n * @returns {Object}         Reviewed data\n */\nexport const reviewedData = ( old, current ) => {\n    return Object.keys( current ).reduce( ( prev, key ) => {\n        if ( old[ key ] === current[ key ] ) {\n            return prev;\n        }\n\n        return {\n            ...prev,\n            [ key ]: current[ key ],\n        };\n    }, {} );\n}\n\n/**\n * Parses the a heading's meta values.\n * \n * @since   1.0.0\n * @param   {String} heading Meta value in this format `el:h1|wt:400|tt:none|lh:1.4|ls:0`\n * @returns {Object}         Parsed keys and values in an object\n */\nexport const parseHeadingValues = heading => {\n    let parsed = {}\n    \n    for( const item of heading.split( '|' ) ) {\n        let [ el, value ] = item.split( ':' );\n\n        switch( el ) {\n            case 'lh':\n            case 'ls':\n                value = Number( value );\n                break;\n        \n            default:\n                break;\n        }\n\n        parsed[ el ] = value;\n    }\n\n    return parsed;\n}\n\n/**\n * Undos `parseHeadingValues()`, converts it back to a string to be saved as meta.\n * It also changes a value for a selected key \n *\n * @since   1.0.0\n * @param   {Object} parsed Parsed meta value, from string to object\n * @param   {String} prop   Propriety, key in object\n * @param   {Mixed}  value  New value for the selected propriety\n * @returns {String}        Converts the new obeject into a string, `el:h1|wt:400|tt:none|lh:1.4|ls:0`\n */\nexport const stringifyHeadingValues = ( parsed, prop, value ) => {\n    return Object.keys( parsed ).map( item => { \n        if( item === prop ) {\n            return [ item, value ].join( ':' )\n        }\n\n        return [ item, parsed[ item ] ].join( ':' ) \n    } ).join( '|' );\n}\n\n/**\n * Gets a value for a specific heading from post meta\n *\n * @since   1.0.0\n * @param   {String} el   The heading, `h2` for example\n * @param   {String} prop The propriety to select, for example `wt` for weight\n * @param   {Object} meta Current post meta information\n * @returns {Mixed}       Meta value for the selected heading propriety or returns the default value for it\n */\nexport const getHeadingValue = ( el, prop, meta ) => {\n    const { headings:hdef } = simpleGFonts;\n    \n    const defaults = hdef[ el ]; //TODO check if weight is supported by the current FF\n    //const defaults = parseHeadingValues( `el:${el}|wt:400|tt:none|lh:1.4|ls:0` ); //TODO\n    \n    const headings = meta.sgf_els_headings;\n\n    if( headings.length ) {\n        const found = headings.findIndex( item => item.startsWith( el, 3 ) );\n\n        if( found === -1 ) {\n            return defaults[ prop ]\n        } else {\n            const converted = parseHeadingValues( headings[ found ] );\n            \n            return converted[ prop ]; \n        }\n    } else {\n        return defaults[ prop ];\n    }\n}\n\n/**\n * Creates 3 DOMNodes, 2 for `<link>`s and one `<style>` tag used to enqueue Google fonts and\n * inline styles. \n *\n * @since   1.0.0\n * @returns {Void}\n */\nexport const createStyleNodes = () => {\n    const similar = {\n        type  : 'text/css',\n        media : 'all',\n        rel   : 'stylesheet',\n        href  : simpleGFonts.default_url,\n    };\n\n    const elements = [\n        {\n            tag: 'link',\n            id: simpleGFonts.body_id,\n            ...similar \n        },\n        {\n            tag: 'link',\n            id: simpleGFonts.headings_id,\n            ...similar\n        },\n        {\n            tag: 'style',\n            id: simpleGFonts.style_id,\n            type: 'text/css'\n        }\n    ];\n\n    for( const element of elements ) {\n        const elNode = document.createElement( element.tag );\n        const elKeys = Object.keys( element );\n\n        for( const elKey of elKeys ) {\n            if( elKey === 'tag' ) continue;\n\n            elNode.setAttribute( elKey, element[ elKey ] );\n        }\n\n        document.head.appendChild( elNode );\n    }\n}\n\n/**\n * Makes sure to add globals if no heading styles are not set. Also solves an issue with\n * REST API not displaying defaults if `$single` is set to `false` in `register_meta()` \n *\n * @since   1.0.0\n * @param   {Object} meta \n * @returns {Void}\n */\nexport const addGlobalHeadings = meta => {\n    const { global_vals:gvals } = simpleGFonts;\n\n    //if( ! meta.sgf_els_headings.length && gvals ) {\n    if( gvals ) {\n        const { sgf_els_headings:gheadings } = gvals;\n\n        if( gheadings && gheadings.length ) {\n            meta.sgf_els_headings = [\n                ...gheadings\n            ];\n        }\n    }\n\n    return meta;\n}\n\n/**\n * Adds defaults to meta if values don't exist.\n *\n * @todo    Clean-up, make it more readable\n * @since   1.0.2\n * @param   {Object} meta Meta without defaults\n * @returns {Object}      Meta with defaults\n */\nexport const addDefaultsToMeta = meta => {\n    const { defaults, headings } = simpleGFonts;\n\n    const parsed      = parseHeadingValues;\n    const stringified = stringifyHeadingValues;\n        \n    let newDefaults     = {}; \n    let newHeadingsDefs = [];\n\n    for( const headingType of Object.keys( headings ) ) {\n        newHeadingsDefs.push( stringified( headings[ headingType ] ) );\n    }\n    \n    for( const panelType of Object.keys( defaults ) ) {\n        for( const option of Object.keys( defaults[ panelType ] ) ) {\n            newDefaults[ `sgf_${option}_${panelType}` ] = defaults[ panelType ][ option ];\n        }\n    }\n    \n    meta = {\n        ...newDefaults,\n        ...meta\n    }\n\n    for( const heading of HEADINGS ) {\n        const hObj = meta.sgf_els_headings.find( hEl => {\n            const hElparse = parsed( hEl );\n\n            if( isEmpty( hElparse ) ) return false;\n\n            return hElparse.el === heading;\n        } );\n        \n        if( hObj ) {\n            const hObjIndex = meta.sgf_els_headings.findIndex( hOel => \n                parsed( hOel ).el === heading   \n            );\n\n            meta.sgf_els_headings[ hObjIndex ] = stringified( {\n                ...parsed( newHeadingsDefs.find( nHdef => \n                    parsed( nHdef ).el === heading \n                ) ),\n                ...parsed( hObj )\n            } );\n        } else {\n            const defHeading = newHeadingsDefs.find( nHdef => {\n                return parsed( nHdef ).el === heading;\n            } );\n\n            const exists = meta.sgf_els_headings.findIndex( hOel => \n                parsed( hOel ).el ===  parsed( defHeading ).el\n            );\n\n            if( defHeading && exists === -1 ) {\n                meta.sgf_els_headings.push( defHeading );\n            }\n        }\n    }\n\n    return meta;\n}"],"sourceRoot":""}